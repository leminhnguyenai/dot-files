set-option -g default-terminal "tmux-256color"
set-option -g status-position top

set -g prefix C-a
unbind C-b
bind-key C-a send-prefix

unbind % 
bind | split-window -h

unbind '"' 
bind - split-window -v

unbind r
bind r source-file ~/.tmux.conf

# Bind H to move to the previous window
bind h previous-window

# Bind L to move to the next window
bind l  next-window

bind -r m resize-pane -Z

set -g mouse on

set-window-option -g mode-keys vi

bind-key -T copy-mode-vi 'v' send -X begin-selection # start selecting text with "v"
bind-key -T copy-mode-vi 'y' send -X copy-selection # copy text with "y"

unbind -T copy-mode-vi MouseDragEnd1Pane # don't exit copy mode after dragging with mouse

set -g visual-activity off

set -g allow-passthrough on

set -g status-interval 1 

# list of tmux plugins
set -g @plugin 'christoomey/vim-tmux-navigator' # for navigating panes and vim/nvim with Ctrl-hjkl
set -g @plugin 'catppuccin/tmux' # See https://github.com/catppuccin/tmux/tags for additional tags
set -g @plugin 'tmux-plugins/tmux-cpu'
set -g @plugin 'tmux-plugins/tmux-battery'
set -g @plugin 'xamut/tmux-weather'
set -g @plugin 'olimorris/tmux-pomodoro-plus'
set -g @plugin 'tmux-plugins/tpm'

# Configure Catppuccin
set -g @catppuccin_flavor "mocha"
set -g @catppuccin_status_background "none" # none == default
set -g @catppuccin_window_status_style "default"
# set -g @catppuccin_pane_status_enabled "yes" # set to "yes" to enable
# set -g @catppuccin_pane_border_status "yes" # set to "yes" to enable

# Configure status bar

set-option -g @tmux-weather-location "Hanoi"
set -g status-right-length 180
set -g status-right ""
set -g status-left-length 80
set -g status-left ""

# Configure pomodoro timer
set -g @pomodoro_sound 'on'
set -g @pomodoro_on "  "
set -g @pomodoro_notifications 'on' 
set -g @pomodoro_granularity 'on'

# Window option

set -g @catppuccin_window_number " #I "
set -g @catppuccin_window_current_number " #I "
set -g @catppuccin_window_text " #W "
set -g @catppuccin_window_current_text " #W "

# Timer
set -ga status-right "#[fg=#4d5169]#{pomodoro_status}  "
set -ga status-right "#[default]  "

# Session
set -ga status-right "#[fg=#181818, bg=#9af472]  "
set -ga status-right "#[fg=#ffffff, bg=#454759] #S "
set -ga status-right "#[default]  "

# # RAM usage
# set -ga status-right "#[fg=#181818]#{ram_bg_color} 󰍛 "
# set -ga status-right "#[fg=#ffffff, bg=#454759]"
# set -ga status-right "#{?#{e|>:#{window_width},110},"
# set -ga status-right " #{ram_percentage} "
# set -ga status-right ","
# set -ga status-right "}"
# set -ga status-right "#[default]   "
#
# # CPU usage
# set -ga status-right "#[fg=#181818]#{cpu_temp_bg_color}  "
# set -ga status-right "#[fg=#ffffff, bg=#454759]"
# set -ga status-right "#{?#{e|>:#{window_width},110},"
# set -ga status-right " #{cpu_percentage} "
# set -ga status-right ","
# set -ga status-right "}"
# set -ga status-right "#[default]   "

# Directory
set -ga status-right "#[fg=#181818, bg=#b7bdf8]  "
set -ga status-right "#[fg=#ffffff, bg=#454759]"
set -ga status-right " #{=/24/...:#{b:pane_current_path}} "
set -ga status-right "#[default]  "

# # Battery
# set -ga status-right "#[fg=#181818, bg=#f5a97f] 󰂎 "
# set -ga status-right "#[fg=#ffffff, bg=#454759]"
# set -ga status-right " #{battery_percentage} "
# set -ga status-right "#[default]  "

# Date (M - D - Y)

set -ga status-right "#[fg=#181818, bg=#c6dd33]  "
set -ga status-right "#[fg=#ffffff, bg=#454759]"
set -ga status-right "#{?#{e|>:#{window_width},120},"
set -ga status-right " %b %d %Y "
set -ga status-right ","
set -ga status-right "}"
set -ga status-right "#[default]  "

# Date (H - M - S)

set -ga status-right "#[fg=#181818, bg=#ed8796] 󱎫 "
set -ga status-right "#[fg=#ffffff, bg=#454759]"
set -ga status-right "#{?#{e|>:#{window_width},120},"
set -ga status-right " %H:%M:%S "
set -ga status-right ","
set -ga status-right "}"
set -ga status-right "#[default]  "

# Weather
set -ga status-right "#[fg=#181818, bg=#7dc4e3] 󰖐 "
set -ga status-right "#[fg=#ffffff, bg=#454759]"
set -ga status-right " #{weather} "
set -ga status-right "#[default]  "

run '~/.tmux/plugins/tpm/tpm'
